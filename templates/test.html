<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.17/c3.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
</head>
<body>

<div id="chart"></div>
<table id="example" class="display" width="100%"></table>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.17/c3.min.js"></script>
<script>
    d3.csv('test.csv', function (data) {
        var sel = [];
        for (i=0; i<data.length ;i++) {
            sel.push(data[i].data1)
        }
        console.log(data);
        var chart = c3.generate({
            data: {
                json: data,
                keys: {
                    x: 'micrograph',
                    value: ['Defocus', 'Phase_shift']
                },
                axes: {
                    Defocus_U: 'y',
                    Defocus_V: 'y',
                    Phase_shift: 'y2'
                }
            },
            axis: {
                x: {
                    type: 'category',
                    extent: [0,50],
                    tick: {
                        fit: false
                    }
                },
                y: {
                    tick: {
                        format: function (d) {return d3.format(",.1f")(d) + " \u03BCm";}
                    },
                    label: {
                        text: 'Defocus',
                        position: 'outer-middle'
                    }
                },
                y2: {
                    tick: {
                        format: function (d) {return d3.format(",.1f")(d) + " \u03c0";}
                    },
                    show: true,
                    label: {
                        text: 'Phase shift',
                        position: 'outer-middle'
                    }
                }
            },
            transition: {
                duration: 0
            },
            // set to false to speed things up
            interaction: {
                enabled: true
            },
            subchart: {
                show: true
            }
        });
        $(document).ready(function() {
            var rows = ['micrograph','Defocus_U','Defocus_V','Angle','Phase_shift','Resolution'];
            $('#example').DataTable( {
                data: data,
                columns: [
                    { data: rows[0] },
                    { data: rows[1] }
                ],
                columnDefs: [
                    { "title": rows[0], "targets": 0 },
                    { "title": rows[1], "targets": 1 }
                ]
            } );
        } );
    });
</script>
</html>